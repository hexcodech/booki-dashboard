webpackJsonp([1],{919:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),c=a(d),o=n(3),s=n(924),f=n(923),i=n(337),m=a(i),p=n(202),E=function(e){function t(){var e,n,a,u;l(this,t);for(var d=arguments.length,o=Array(d),i=0;i<d;i++)o[i]=arguments[i];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.componentdidMount=function(){var e=a.props,t=e.dispatch,n=e.accessToken;t((0,f.fetchSystemStatsIfNeeded)(n))},a.handleRefreshClick=function(e){e.preventdefault();var t=a.props,n=t.dispatch,l=t.accessToken;n((0,f.invalidateSystemStats)()),n((0,f.fetchSystemStatsIfNeeded)(l))},a.render=function(){var e=a.props.systemStats;return c.default.createElement(m.default,{lastUpdated:e.lastUpdated,isFetching:e.isFetching,handleRefreshClick:a.handleRefreshClick},c.default.createElement(p.Table,null,c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null,"Key"),c.default.createElement("th",null,"Value"))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",null,"OS"),c.default.createElement("td",null,e.os)),c.default.createElement("tr",null,c.default.createElement("td",null,"Platform"),c.default.createElement("td",null,e.platform)),c.default.createElement("tr",null,c.default.createElement("td",null,"Hostname"),c.default.createElement("td",null,e.hostname)),c.default.createElement("tr",null,c.default.createElement("td",null,"PID"),c.default.createElement("td",null,e.pid)),c.default.createElement("tr",null,c.default.createElement("td",null,"Node Version"),c.default.createElement("td",null,e.nodeVersion)),c.default.createElement(p.Seperator,null,c.default.createElement("td",{colSpan:"2"},"Bandwidth data of the last"," "+e.bandwidth.interval/1e3/60," minutes")),c.default.createElement("tr",null,c.default.createElement("td",null,"Requests served"),c.default.createElement("td",null,e.bandwidth.requestsServed)),c.default.createElement("tr",null,c.default.createElement("td",null,"Data sent"),c.default.createElement("td",null,(0,s.formatBytes)(e.bandwidth.bytesServed/(e.bandwidth.interval/1e3)),"/s")),c.default.createElement("tr",null,c.default.createElement("td",null,"Data received"),c.default.createElement("td",null,(0,s.formatBytes)(e.bandwidth.bytesReceived/(e.bandwidth.interval/1e3)),"/s")))))},u=n,r(a,u)}return u(t,e),t}(c.default.Component),h=function(e){return{accessToken:e.app.authentication.accessToken.token,systemStats:e.app.dashboard.systemStats}};t.default=(0,o.connect)(h)(E)},923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSystemStatsIfNeeded=t.invalidateSystemStats=void 0;var a=n(32),l=(t.invalidateSystemStats=function(){return{type:"INVALIDATE_SYSTEM_STATS"}},function(e){return{type:"REQUEST_SYSTEM_STATS",accessToken:e}}),r=function(e){return{type:"FAIL_SYSTEM_STATS_REQUEST",error:e}},u=function(e,t){return{type:"RECEIVE_SYSTEM_STATS",systemStats:e,receivedAt:t}},d=function(e){return function(t){return t(l(e)),(0,a.fetchApi)("system/stats","GET",{},e).then(function(e){t(u(e,Date.now()))}).catch(function(e){t(r(e)),t(push("/"))})}},c=function(e,t){var n=e.app.dashboard.systemStats;return!n.isFetching&&(0===n.lastUpdated||n.didInvalidate)};t.fetchSystemStatsIfNeeded=function(e){return function(t,n){return c(n())?t(d(e)):Promise.resolve()}}},924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.formatBytes=function(e,t){if(0==e)return"0 Byte";var n=t+1||3,a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,l)).toFixed(n))+" "+a[l]}}});